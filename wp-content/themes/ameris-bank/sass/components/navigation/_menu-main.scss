

//
//
// -------------------- MOBILE MENU & DEFAULTS
//
//

.main-navigation {

	@include rem-fallback(font-size, 1.8);

	a {
		color: $white;
		text-transform: uppercase;
		font-family: $font-heading;
		display: block;
		@include rem-fallback(padding, 1.5, 1.5, 2);
		transition: background .5s, color .5s;
		&:hover, &:focus {
			background-color: $white;
			color: $link-color;
		}
	}

	ul {
		display: none;
	}
	li li {
		a {
			@include rem-fallback(padding, 1, 1.5);
			text-transform: none;
		}
		li {
			@include rem-fallback(margin-left, .5);
		}
	}

	li.active > ul {
		display: block;
	}

	.menu-item-has-children {
		> a {
			position: relative;
			&:after {
				content: "";
				display: block;
				position: absolute;
				@include rem-fallback(top, 2.2);
				@include rem-fallback(right, 1.6);
				border: solid transparent;
				@include rem-fallback(border-width, 1);
				@include rem-fallback(border-bottom-width, 1);
				border-top-color: $red;
				box-sizing: content-box;
				opacity: 1;
				transition: all .3s;
			}
		}
		&.active > a:after {
			//transform: rotate(-180deg);
			//border-top-color: $link-color;
			opacity: 0;
		}
	}

}

.menu-toggle {
	padding: 0;
	position: absolute;
	@include rem-fallback(top, 2);
	@include rem-fallback(right, 5);
	background: transparent;
	&:hover, &:active {
		background: transparent;
	}
}

@include breakpoint($tablet-to-desktop) {
	.menu-toggle {
		@include rem-fallback(right, 3);
	}
}

.menu-toggle,
.main-navigation.toggled ul.menu {
	display: block;
}

//
//
// -------------------- END MOBILE MENU
//
//


//
//
// -------------------- START TABLET MENU
//
//


.main-navigation {
	clear: both;
	&.toggled {
		
	}
}

@include breakpoint( $narrow-to-desktop ) { //START DESKTOP SIZES


.menu-toggle {
	display: none;
}

.main-navigation {
	text-align: right;
	@include rem-fallback(margin-right, 1);
	a {
		@include rem-fallback(padding, 1.5, 1, 2);
		@include rem-fallback(font-size, 1.6);
	}

	ul {
		display: block;
		ul { // hiding sublevels for now
			display:none;
		}
	}

	li li {
		a {
			color: $link-color;
			@include rem-fallback(padding, 1);
		}
	}

	li.active > ul, li:hover > ul {
		display: block;
	}

	.menu-item-has-children a:after {
		content: none;
	}
	ul ul ul {
		display: block;
	}

}

.nav-menu {
	> li {
		display: inline-block;
		transition: all .2s;
		&:hover, &:focus {
			background-color: $white;
			color: $link-color;
			> a {
				color: $link-color;
			}
		}
	}
	> li > ul {
		position: absolute;
		text-align: left;
		color: $link-color;
		left: 0;
		width: 100%;
		margin: 0 auto;
		background: rgba(255,255,255,.9);
		box-shadow: 0 3px 6px rgba(0,0,0,.1);
	}
}

//Sub Menu with toggles
.toggle-sub__parent {

	width: 100%;

	> a {
		@include rem-fallback(padding, 3);
		@include red-arrow-right;
		@include rem-fallback(line-height, 3.2);
		float: left;
		clear: left;
		width: 30%;
		border-bottom: 2px solid transparent;
		text-transform: none;
		transition: all .2s;
	}

	> .item-description {
		@include rem-fallback(padding, 3);
		float: right;
		clear: none;
		width: 70%;
		opacity: 0;
		pointer-events: none;
		transition: all .2s;
		a {
			@include red-link();
		}
		h3 {
			@include rem-fallback(font-size, 3.2);
			@include rem-fallback(line-height, 3.2);
		}
		p {
			color: $text-color;
			@include rem-fallback(font-size, 2);
		}
	}

	> .sub-menu {
		position: static;
		opacity: 0;
		transition: opacity .2s;
		float: right;
		clear: right;
		width: 70%;
		pointer-events: none;
	}

	&:hover {
		background: transparent;
		> a {
			background: $white;
			border-color: $red;
		}
		> .item-description {
			opacity: 1;
			background-color: $white;
			pointer-events: all;
		}
		> .sub-menu {
			opacity: 1;
			pointer-events: all;
		}
	}

}

//Open Sub Navs
.open-sub:hover {
	> .sub-menu {
		display: table;
		> li {
			display: table-cell;
			> .sub-menu {
				display: block;
			}
		}
	}
}

//Personal Sub Nav
.personal-nav {

}

//Business Sub Nav
.business-nav {
//testing
//ul.sub-menu {display: block;}
}

//SBA Financing Sub Nav
.sba-nav {

}

//Residential Financing Sub Nav
.residential-nav {

}




}  //END NARROW SIZES

@include breakpoint($desktop) {
	.main-navigation {
		@include rem-fallback(margin-right, 3);
		a {
			@include rem-fallback(padding, 1.5, 1.5, 2);
			@include rem-fallback(font-size, 1.8);
		}
	}
}

